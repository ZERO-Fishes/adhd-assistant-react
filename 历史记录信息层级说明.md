# 历史记录信息层级优化说明

## 新的信息层级结构

### 模块1：基本信息
**位置：** 顶部区域（渐变背景）
**内容：**
- **任务名称** - 大字体，突出显示
- **任务类型** - 带颜色样式的标签
- **开始时间** - 整体会话开始时间

**布局：**
```
[任务名称] [任务类型标签]                    [整体状态] [删除按钮]
🕐 开始时间
```

### 模块2：预约信息
**位置：** 中间区域（浅灰背景）
**内容：**
- **开始时间** - 预约开始的具体时间
- **等待时间** - 预约开始到任务开始前的等待时间
  - 如果预约成功：显示实际等待时间（如"5分钟"）
  - 如果预约失败：显示"null"
- **预约是否成功** - 状态标签

**布局：**
```
📅 预约信息                                    [成功/失败]
开始时间: 09:00    等待时间: 5分钟
```

### 模块3：任务信息
**位置：** 底部区域（白色背景）

#### 情况1：预约失败
**显示：**
```
预约失败，任务未开始
```
- 不显示任务详细信息
- 只显示预约失败提示

#### 情况2：预约成功
**内容：**
- **任务开始时间** - 任务实际开始时间
- **结束时间** - 任务结束时间
  - 如果任务成功：显示实际结束时间
  - 如果任务失败：显示"null"
- **持续时间** - 任务执行时长
  - 如果任务成功：显示实际持续时间（如"25分钟"）
  - 如果任务失败：显示"null"
- **任务是否成功** - 状态标签

**布局：**
```
🎯 任务信息                                    [成功/失败]
开始时间: 09:05    结束时间: 09:30    持续时间: 25分钟
```

## 设计特点

### 视觉层次
1. **基本信息** - 最突出，用户第一眼看到
2. **预约信息** - 次要信息，浅色背景区分
3. **任务信息** - 详细信息，白色背景

### 信息逻辑
- **预约失败** → 任务信息简化为失败提示
- **预约成功** → 显示完整的任务执行信息
- **null值处理** → 明确显示"null"而不是空白

### 响应式设计
- **桌面端**：三列网格布局，信息密度高
- **移动端**：单列布局，信息垂直排列

## 状态标签系统

### 预约状态
- **成功** - 绿色背景，预约倒计时完成
- **失败** - 红色背景，预约被放弃

### 任务状态
- **成功** - 绿色背景，任务正常完成
- **失败** - 红色背景，任务被放弃

### 整体状态
- **完成** - 预约成功 + 任务成功
- **失败** - 预约失败 或 任务失败
- **未完成** - 预约成功但任务未开始

## 时间显示格式

### 基本信息
- 格式：`MM/DD HH:MM`
- 示例：`12/25 09:00`

### 预约/任务信息
- 格式：`HH:MM`
- 示例：`09:05`

### 持续时间
- 格式：`X小时Y分钟` 或 `Y分钟`
- 示例：`25分钟` 或 `1小时30分钟`

## 颜色系统

### 任务类型标签
- 使用用户自定义的颜色
- 背景色 + 文字色组合

### 状态标签
- **成功**：绿色渐变背景
- **失败**：红色渐变背景
- **未完成**：黄色渐变背景

### 背景层次
- **基本信息**：渐变灰色背景
- **预约信息**：浅灰色背景
- **任务信息**：白色背景
