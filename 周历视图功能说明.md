# 周历视图功能说明

## 功能概述

在首页新增了周历视图模块，以课程表的形式显示本周的任务安排和历史记录。用户可以直观地看到一周内各个时间段的任务分布情况。

## 主要特性

### 1. 课程表布局
- **7列布局**：每一列代表一周中的一天（周日到周六）
- **时间轴**：左侧纵轴显示时间（6:00 - 22:00，每30分钟一个时间段）
- **网格结构**：类似课程表的网格布局，清晰展示时间与日期的对应关系

### 2. 事件显示
- **任务事件**：在对应的时间段显示历史记录中的任务
- **状态标识**：不同颜色表示不同的执行状态
  - 🟢 绿色：成功完成
  - 🔴 红色：执行失败
  - 🟡 黄色：未完成
- **事件详情**：点击事件可查看详细信息

### 3. 周导航功能
- **上周/下周**：支持切换到不同周查看历史记录
- **本周**：快速回到当前周
- **今天高亮**：当前日期会有特殊的高亮显示

### 4. 响应式设计
- **桌面端**：完整的周历网格显示
- **移动端**：优化的布局和交互体验

## 使用方法

### 查看周历
1. 进入首页
2. 在"本周任务安排"模块中查看周历视图
3. 周历会自动显示当前周的所有历史记录

### 查看事件详情
1. 在周历中找到感兴趣的任务事件
2. 点击事件块
3. 弹出详情窗口显示完整信息

### 周导航
- **← 上周**：切换到上周查看历史记录
- **本周**：快速回到当前周
- **下周 →**：切换到下周查看历史记录

## 技术实现

### 数据转换
- 将历史记录会话数据转换为周历事件数据
- 按星期几和时间段分组显示事件
- 支持多事件同一时间段显示

### 布局设计
- 采用CSS Grid布局实现课程表结构
- 时间轴固定，日期列自适应
- 事件块绝对定位在对应的时间槽中

### 时间管理
- 时间范围：6:00 - 22:00（可调整）
- 时间精度：30分钟一个时间段
- 自动计算事件在时间轴上的位置

## 数据展示

### 事件信息
每个周历事件显示：
- 任务名称
- 执行状态（颜色标识）

### 详情弹窗
点击事件后显示：
- 任务类型
- 开始时间
- 整体状态
- 预约状态（如有）
- 任务状态（如有）

## 视觉设计

### 颜色系统
- **成功状态**：绿色 (#10b981)
- **失败状态**：红色 (#ef4444)
- **未完成状态**：黄色 (#f59e0b)
- **今天高亮**：蓝色背景 (#e3f2fd)
- **周末标识**：浅红色背景 (#fef2f2)

### 布局特点
- **Notion风格**：保持与现有界面的一致性
- **清晰网格**：明确的边框和分隔线
- **层次分明**：良好的视觉层次和信息组织
- **交互友好**：悬停效果和点击反馈

## 兼容性

- 支持所有现代浏览器
- 移动端友好
- 与现有功能完全兼容
- 保持数据一致性

## 注意事项

1. 周历视图显示的是历史记录数据，不是未来的计划安排
2. 事件按创建时间显示在对应的时间段
3. 同一时间段多个事件会重叠显示
4. 时间轴范围可根据需要调整

## 未来扩展

- 支持拖拽调整事件时间
- 添加事件创建和编辑功能
- 支持不同视图模式（日视图、月视图）
- 添加事件提醒功能
- 支持事件分类和标签

